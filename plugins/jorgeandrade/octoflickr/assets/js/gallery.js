// Generated by CoffeeScript 1.9.1
(function() {
  window.Gallery = (function() {
    function Gallery(name, arg) {
      this.name = name != null ? name : null;
      this.arg = arg != null ? arg : {};
    }

    Gallery.prototype.init = function() {
      var dest, gallery, src;
      dest = $(this.arg.dest);
      src = $(this.arg.src);
      gallery = this;
      return src.on('keyup', function() {
        return dest.val(gallery.createKey(this.value));
      });
    };

    Gallery.prototype.verif = function() {
      var message;
      message = {};
      if (this.arg.src === '') {
        message.src = "src can't be empty";
      }
      if (this.arg.dest === '') {
        message.dest = "dest can't be empty";
      }
      return message;
    };

    Gallery.prototype.createKey = function(str) {
      var from, i, j, len, to;
      str = str.replace(/^\s+|\s+$/g, '');
      str = str.toLowerCase();
      from = "ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;";
      to = "aaaaaeeeeeiiiiooooouuuunc------";
      for (j = 0, len = from.length; j < len; j++) {
        i = from[j];
        str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));
      }
      str = str.replace(/[^a-z0-9 -]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-');
      return str;
    };

    return Gallery;

  })();

  $(document).on('ready', function() {
    var gallery;
    gallery = new Gallery('Gaticos', {
      src: '#Form-field-Gallerie-nombre',
      dest: '#Form-field-Gallerie-clave'
    });
    return gallery.init();
  });

}).call(this);
